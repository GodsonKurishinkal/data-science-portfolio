# Universal Replenishment Engine Configuration
# =============================================
# This file configures the replenishment engine for different retail scenarios.
# Modify scenario parameters without code changes.

# Global settings
global:
  item_column: "item_id"
  location_column: "location_id"
  default_service_level: 0.95
  logging_level: "INFO"

# Classification configuration
classification:
  abc:
    enabled: true
    value_column: "revenue"
    thresholds:
      - 0.80  # A items: top 80% of value
      - 0.95  # B items: next 15% of value
      # C items: remaining 5%
  
  xyz:
    enabled: true
    thresholds:
      - 0.50  # X items: CV < 0.5 (stable)
      - 1.00  # Y items: CV 0.5-1.0 (variable)
      # Z items: CV > 1.0 (highly variable)
  
  velocity:
    enabled: false
    thresholds:
      - 0.60  # F items: top 60% of movement
      - 0.90  # M items: next 30% of movement

# Service level matrix (ABC x XYZ)
service_level_matrix:
  AX: 0.99
  AY: 0.97
  AZ: 0.95
  BX: 0.97
  BY: 0.95
  BZ: 0.92
  CX: 0.95
  CY: 0.92
  CZ: 0.90

# Alert thresholds
alerts:
  enabled: true
  critical_days_supply: 1.0
  low_days_supply: 3.0
  overstock_days_supply: 60.0
  capacity_utilization_high: 0.85
  capacity_utilization_critical: 0.95
  demand_spike_threshold: 0.50
  demand_drop_threshold: 0.30

# Scenario-specific configurations
scenarios:
  # Supplier to Distribution Center
  supplier_to_dc:
    description: "Replenishment from supplier to distribution center"
    policy_type: "periodic_review"
    review_period: 7
    lead_time: 14
    lead_time_std: 2
    service_level: 0.95
    order_strategy: "policy_target"
    safety_stock_method: "dynamic"
    min_order_qty: null
    max_order_qty: null
    order_multiple: null
    required_columns:
      - "item_id"
      - "current_stock"
      - "daily_demand_rate"
      - "demand_std"

  # Distribution Center to Store
  dc_to_store:
    description: "Replenishment from DC to retail stores"
    policy_type: "periodic_review"
    review_period: 1
    lead_time: 2
    lead_time_std: 0.5
    service_level: 0.97
    order_strategy: "fill_to_capacity"
    safety_stock_method: "standard"
    min_order_qty: 1
    max_order_qty: null
    order_multiple: null
    required_columns:
      - "item_id"
      - "store_id"
      - "current_stock"
      - "max_capacity"
      - "daily_demand_rate"

  # Store to DC (Returns/Reverse logistics)
  store_to_dc:
    description: "Return of excess inventory from store to DC"
    policy_type: "min_max"
    min_days_supply: 7
    max_days_supply: 21
    lead_time: 3
    service_level: 0.90
    order_strategy: "policy_target"
    required_columns:
      - "item_id"
      - "store_id"
      - "current_stock"
      - "daily_demand_rate"

  # Warehouse Storage to Picking Location
  storage_to_picking:
    description: "Internal warehouse replenishment from reserve to forward pick"
    policy_type: "periodic_review"
    review_period: 1
    lead_time: 0.5  # 12 hours
    lead_time_std: 0.1
    service_level: 0.98
    order_strategy: "fill_to_capacity"
    safety_stock_method: "standard"
    required_columns:
      - "item_id"
      - "pick_location"
      - "current_stock"
      - "max_capacity"
      - "hourly_picks"

  # Backroom to Sales Floor
  backroom_to_floor:
    description: "Store backroom to sales floor replenishment"
    policy_type: "min_max"
    min_days_supply: 1
    max_days_supply: 3
    lead_time: 0.1  # ~2.4 hours
    service_level: 0.99
    order_strategy: "fill_to_capacity"
    required_columns:
      - "item_id"
      - "store_id"
      - "floor_stock"
      - "shelf_capacity"
      - "daily_sales"

  # Cross-dock Operations
  cross_dock:
    description: "Cross-dock flow-through operations"
    policy_type: "continuous_review"
    lead_time: 0.25  # 6 hours
    service_level: 0.95
    ordering_cost: 25
    holding_cost_rate: 0.30
    required_columns:
      - "item_id"
      - "inbound_qty"
      - "outbound_demand"

  # Inter-store Transfer
  inter_store_transfer:
    description: "Transfer between stores for inventory balancing"
    policy_type: "min_max"
    min_days_supply: 5
    max_days_supply: 14
    lead_time: 1
    service_level: 0.90
    required_columns:
      - "item_id"
      - "from_store"
      - "to_store"
      - "from_stock"
      - "to_stock"
      - "daily_demand"

  # E-commerce Fulfillment Center
  ecommerce_fulfillment:
    description: "E-commerce fulfillment center replenishment"
    policy_type: "continuous_review"
    lead_time: 5
    lead_time_std: 1
    service_level: 0.98
    ordering_cost: 75
    holding_cost_rate: 0.25
    use_eoq: true
    required_columns:
      - "item_id"
      - "current_stock"
      - "daily_orders"
      - "unit_cost"
